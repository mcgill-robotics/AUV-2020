<?xml version='1.0'?>
<sdf version="1.9">
    <model name="clarke">
    
        <link name="clarke_cylinder">
            <collision name="clarke_cylinder_collsion">
                <pose> 0 0 0.2 0 1.57 0</pose>
                <geometry>
                     <cylinder>
                         <radius>.19</radius>
                         <length>.86</length>
                     </cylinder>>
                 </geometry>
             </collision>  
            <visual name="clarke_cylinder_visual">
                <pose> 0 0 0.2 0 1.57 0</pose>
                <geometry>
                    <cylinder>
                        <radius>.19</radius>
                        <length>.86</length>
                    </cylinder>>
                </geometry>
            </visual>
            <inertial>
                <mass>12.0</mass>
                    <inertia> 
                    <ixx>.9159</ixx>       
                    <ixy>0.0</ixy>         
                    <ixz>0.0</ixz>         
                    <iyy>1.0106</iyy>      
                    <iyz>0.0</iyz>         
                    <izz>1.6706</izz>       
                    </inertia>
            </inertial>
        </link>
    
        <link name="clarke_box">
            <collision name="clarke_box_collision">
                <pose> 0 0 0 0 0 0 </pose>
               <geometry>
                    <box>
                        <size>.88 .22 .14</size>
                    </box>>
                </geometry>
            </collision>
            <visual name="clarke_box_visual">
                <pose> 0 0 0 0 0 0 </pose>
                <geometry>
                    <box>
                        <size>.88 .22 .14</size>
                    </box>>
                </geometry>
            </visual>
            <inertial>
                <mass>12.0</mass>
                    <inertia> 
                    <ixx>.068</ixx>       
                    <ixy>0.0</ixy>         
                    <ixz>0.0</ixz>         
                    <iyy>.7994</iyy>      
                    <iyz>0.0</iyz>         
                    <izz>.8228</izz>       
                    </inertia>
            </inertial> 
        </link>
    
        <joint type="fixed" name="cylinder_to_box">
            <pose>0 0 0 0 0 0</pose>
            <child>clarke_box</child>
            <parent>clarke_cylinder</parent>
            <axis>
                <xyz>0 0 0.2</xyz>
            </axis>
        </joint>


        <!-- PROPELLERS --> 
        <link name="prop_surge_port"> 
          <inertial>
              <pose>1.43162 0 0 0 0 0</pose> 
              <pose>0 0 0 0 0 0</pose>
              <mass>0.09</mass>
              <inertia>
                <ixx>0.000143971303</ixx>
                <ixy>0.000000000008</ixy>
                <ixz>-0.000000000224</ixz>
                <iyy>0.000140915448</iyy>
                <iyz>-0.000025236433</iyz>
                <izz>0.000033571862</izz>
              </inertia>
          </inertial>
          <collision name="collision">
            <geometry>
              <box>
                <size>0.03 0.1 0.03</size>
              </box>
            </geometry>
          </collision>
          <visual name= "visual">
            <pose>-1.43162 0 0 0 0 0</pose>
            <geometry>
              <mesh>
                <uri>meshes/tethys.dae</uri>
                <submesh>
                  <name>Prop</name>
                  <center>false</center>
                </submesh>
              </mesh>
            </geometry>
            <material>
              <diffuse>1.0 1.0 1.0</diffuse>
              <specular>1.0 1.0 1.0</specular>
              <pbr>
                <metal>
                  <albedo_map>materials/textures/Tethys_Albedo.png</albedo_map>
                  <normal_map>materials/textures/Tethys_Normal.png</normal_map>
                  <metalness_map>materials/textures/Tethys_Metalness.png</metalness_map>
                  <roughness_map>materials/textures/Tethys_Roughness.png</roughness_map>
                </metal>
              </pbr>
              <script>
                <uri>materials/scripts/</uri>
                <uri>materials/textures/</uri>
                <name>tethys/Tethys_Diffuse</name>
              </script>
            </material>
          </visual>
        </link>
            
        <joint name="prop_surge_port_joint" type="revolute">
          <pose>0 0 0 0 0 0</pose>
          <parent>clarke_cylinder</parent>
          <child>prop_surge_port</child>
          <axis>
            <xyz>1 0 0</xyz>
            <limit>
              <lower>-1e+12</lower>
              <upper>1e+12</upper>
              <effort>-1</effort>
              <velocity>-1</velocity>
            </limit>
          </axis>
        </joint>

        <plugin
            filename="ignition-gazebo-thruster-system"
            name="ignition::gazebo::systems::Thruster">
            <namespace>clarke</namespace>
            <joint_name>prop_surge_port_joint</joint_name>
            <thrust_coefficient>0.004422</thrust_coefficient>
            <fluid_density>1000</fluid_density>
            <propeller_diameter>0.2</propeller_diameter>
        </plugin>
    
    </model>
</sdf>
